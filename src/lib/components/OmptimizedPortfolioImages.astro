---
import { Picture } from "astro:assets";

interface Props {
    images: { default: ImageMetadata }[];
}

const { images } = Astro.props as Props;
let widths = [240, 540, 720];
let sizes = (imgSize: number) =>
    `(max-width:360px) 240px, (max-width:720px) 540px, (max-width:960px) 720px, ${imgSize}px`;
---

{
    images.map((img) => {
        return (
            <Picture
                src={img.default}
                {widths}
                sizes={sizes(img.default.width)}
                alt=""
            />
        );
    })
}

<style>
    img {
        width: 100%;
        height: 100%;
        aspect-ratio: 1/1;
    }
</style>
