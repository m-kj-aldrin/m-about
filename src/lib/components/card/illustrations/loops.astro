---
import Circle from "@lib/components/svg/builtin/Circle.astro";
import Path from "@lib/components/svg/builtin/path.astro";
import { range } from "@lib/utils/iter";

const d = 4;
---

<svg
  viewBox="-256 -256 512 512"
  width="512"
  height="512"
  fill="none"
  preserveAspectRatio="xMidYMid slice"
>
  <g transform="translate(0 0)">
    <g stroke="currentColor" stroke-width="2" stroke-dasharray="0.001 3" stroke-linecap="round" >
      {
        range(d).map((i) => {
          return (
            <>
              <g transform={`scale(${1 - i / d})`}>
                <g transform="">
                  <Path
                    vector-effect="non-scaling-stroke"
                    d={`
                        c0,0 -8,32 -48,32
                        a1,1 0 0 1 0,-64
                        c0,0 40,0 48,32
                        c0,0 8,32 48,32
                        a1,1 0 0 0 0,-64
                        c0,0 -40,0 -48,32
                        `}
                  />
                </g>
                <Circle r={8} fill="var(--bgColor)" stroke="none" opacity={0}/>
              </g>
            </>
          );
        })
      }
    </g>
  </g>
  <!-- <g
                  transform="translate(128) rotate(90)"
                  transform-origin="64 0"
                >
                  <Path
                    d={` m32,64 l-16,-16 q-16,-24 -16,-48 a1,1 0 0 1 128,0 q2,24 -16,48 l-16,16 `}
                  />
                </g> -->

  <style>
    svg {
      /* border: 1px black solid; */
    }
  </style>
</svg>
