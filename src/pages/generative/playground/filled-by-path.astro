---
import G from '@lib/components/svg/builtin/G.astro';
import Path2 from '@lib/components/svg/builtin/Path2.astro';
import Rect from '@lib/components/svg/builtin/Rect.astro';
import BaseLayout from '@lib/layouts/BaseLayout.astro';
import { range } from 'src/lib/util/iter';
import { irand, pick, rand } from 'src/lib/util/stokhos';
import { mult, vector, clamp_vector } from 'src/lib/util/vector';

const rows = 8;
const cols = 8;
const canvas_width = 100;
const canvas_height = 100;

const cell_width = canvas_width / cols;
const cell_height = canvas_height / rows;

const grid_points = range(rows)
  .map((_, i) => {
    return range(cols).map((_, j) => {
      return [i, j];
    });
  })
  .flat();
---

<BaseLayout title="playground:filled-by-path" fullScreen={true}>
  <svg viewBox="0 0 100 100">
    <Rect width={100} height={100} fill="none" stroke="currentColor" stroke-width={0.25} />
    <G translate={[cell_width / 2, cell_height / 2]}>
      {
        grid_points.map(([x, y]) => {
          return (
            <Rect x={x * cell_width - 0.5} y={y * cell_height - 0.5} width={1} height={1} fill="currentColor" />
          );
        })
      }
    </G>
  </svg>
</BaseLayout>

<style>
  svg {
    width: 100%;
    height: 100%;
  }
</style>
